# ููุตุฉ DASMe โ ูุญุฑู ุงูุนูููุงุช MR 20% ูููุญุฉ ุชุญูู ุงููุณูููู

ููุตุฉ ูุชูุงููุฉ ูุฅุฏุงุฑุฉ ุฌูุด ุงูุชุณููู ูุงูููุฌุณุชูุงุช ุจูุธุงู ุงูุดุฑุงูุฉ ูุงูุนูููุฉุ ุชุชููู ูู:
- **ููุญุฉ ุชุญูู ุงููุณูููู (Frontend)**: ูุงุฌูุฉ React ุงุญุชุฑุงููุฉ ูููุณูููู
- **ูุญุฑู ุงูุนูููุงุช MR 20% (Backend)**: ูุธุงู DDD ูุชูุงูู ูุญุณุงุจ ูุฅุฏุงุฑุฉ ุงูุนูููุงุช

---

## ๐ ุงููุญุชููุงุช

- [ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ](#ุงููููุฒุงุช-ุงูุฑุฆูุณูุฉ)
- [ูููู ุงููุดุฑูุน](#ูููู-ุงููุดุฑูุน)
- [ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ](#ุงูุชูููุงุช-ุงููุณุชุฎุฏูุฉ)
- [ุงูุชุซุจูุช ูุงูุชุดุบูู](#ุงูุชุซุจูุช-ูุงูุชุดุบูู)
- [ูุญุฑู MR 20%](#ูุญุฑู-mr-20)
- [API Endpoints](#api-endpoints)
- [ุงููุดุฑ](#ุงููุดุฑ)
- [ุงููุซุงุฆู](#ุงููุซุงุฆู)

---

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ููุญุฉ ุชุญูู ุงููุณูููู (Frontend)

#### ูุธุงู ุงูุฑุชุจ ูุงููุณุชููุงุช
- **ุงูุฑุชุจุฉ ุงูุจุฑููุฒูุฉ (ูุณุชูุดู)**: ุฌูุจ ุงูุนููุงุก ูุงููุฑูุจุงุชุ ุนูููุฉ ุฃุณุงุณูุฉ 10%
- **ุงูุฑุชุจุฉ ุงููุถูุฉ (ููุซู)**: ููุงู ุงูุชุตููุฑ ูุงููุนุงููุฉุ ุนูููุฉ ุฅุถุงููุฉ ููููุงู
- **ุงูุฑุชุจุฉ ุงูุฐูุจูุฉ (ุณููุฑ)**: ุชูุซูู ูู ููู ุงูููููุฉุ ุนูููุฉ 20% + ููุงูุขุช

#### ูุธุงู ุงููุญูุธุฉ ุงูุฑูููุฉ
- ุฑุตูุฏ ูุงุจู ููุณุญุจ
- ุฑุตูุฏ ูุนูู (ููุถูุงู)
- ุฑุตูุฏ ููุฏ ุงูุชุญูู
- ุณุฌู ุนูููุงุช ุชูุตููู

#### ูุธุงู ุงูุชุญููุฒ (Gamification)
- ููุญุฉ ุงูุดุฑู (Leaderboard)
- ุดุงุฑุงุช ุงูุฅูุฌุงุฒ
- ุดุฑูุท ุงูุชูุฏู ููุชุฑููุฉ
- ูุธุงู ุงูููุงุท ูุงูููุงูุขุช

#### ุงูููุงู ุงูููุฏุงููุฉ
- ุชุตููุฑ ุงุญุชุฑุงูู ูููุฑูุจุงุช
- ูุญุต ูุจุฏุฆู ููุนุงููุฉ
- ุชูุซูู ูู ููู ุงูููููุฉ
- ุชุชุจุน GPS ููููุงู

#### ูุธุงู ุงูุฅุญุงูุงุช
- ุฑูุงุจุท ุฅุญุงูุฉ ุนูููุฉ (Deep Links)
- ุฃููุงุฏ ุฎุตู ุฎุงุตุฉ
- ุชุชุจุน ุชููุงุฆู ููุนููุงุก
- ุนูููุฉ 20% ูู ุงูุงุดุชุฑุงู ูุฃูู ุนูููุฉ ุจูุน

#### ุฃุฏุงุฉ ุงูููุต (Hunter Tool)
- ุฅุถุงูุฉ ุนููุงุก ุฌุฏุฏ
- ุฅุถุงูุฉ ูุฑูุจุงุช ููุนุฑุถ
- ุฑุจุท ุชููุงุฆู ุจุงูุดุฑูู
- ูุชุงุจุนุฉ ุญุงูุฉ ุงููุฑูุจุงุช

### ูุญุฑู ุงูุนูููุงุช MR 20% (Backend)

#### ูุธุงู ุงูุนูููุงุช ุงููุชูุฏู
- **Lifetime Modes**: 
  - `lifetime`: ุนูููุฉ ูุฏู ุงูุญูุงุฉ
  - `by_count`: ุนูููุฉ ูุญุฏูุฏุฉ ุจุนุฏุฏ ุงูุนูููุงุช
  - `by_period`: ุนูููุฉ ูุญุฏูุฏุฉ ุจูุชุฑุฉ ุฒูููุฉ
- **Commission Tiers**: ุดุฑุงุฆุญ ุนูููุงุช ูุชุบูุฑุฉ ุญุณุจ ุนุฏุฏ ุงูุนูููุงุช
- **Attribution Models**: `first_click` ุฃู `last_click`
- **Scope**: ุนูููุฉ ุนูู ูุณุชูู ุงูููุชุฌ ุฃู ุงููุฆุฉ

#### ุฅุฏุงุฑุฉ ุงูุจุฑุงูุฌ ูุงูุดุฑูุงุก
- ุฅูุดุงุก ุจุฑุงูุฌ ุนูููุงุช ูุฎุตุตุฉ
- ุชุณุฌูู ุดุฑูุงุก ุฌุฏุฏ
- ุฑุจุท ุงูุดุฑูุงุก ุจุงูุนููุงุก ูุงูููุชุฌุงุช
- ุชุชุจุน ุงูุนูููุงุช ูุงูุนูููุงุช

#### ูุธุงู ุงููุญูุธุฉ ุงูุฑูููุฉ
- ุญุณุงุจ ุงูุฑุตูุฏ ุงููุนูู ูุงููุชุงุญ
- ุชุชุจุน ุงูุนูููุงุช ุญุณุจ ุงูุญุงูุฉ
- ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุณุญุจ

---

## ๐ ูููู ุงููุดุฑูุน

```
marketers/
โโโ client/                          # Frontend (React)
โ   โโโ src/
โ   โ   โโโ components/              # ุงูููููุงุช ุงููุดุชุฑูุฉ
โ   โ   โโโ pages/                   # ุตูุญุงุช ุงูุชุทุจูู
โ   โ   โโโ contexts/                # Context API
โ   โ   โโโ hooks/                   # Custom Hooks
โ   โโโ public/                      # ุงููููุงุช ุงูุซุงุจุชุฉ
โ
โโโ app/Mr20/                        # Backend Module (Laravel DDD)
โ   โโโ Domain/                      # Domain Layer
โ   โ   โโโ Merchants/               # ููุงูุงุช ุงูุชุฌุงุฑ
โ   โ   โโโ Partners/                # ููุงูุงุช ุงูุดุฑูุงุก
โ   โ   โโโ Catalog/                 # ููุงูุงุช ุงูููุชุฌุงุช
โ   โ   โโโ Customers/               # ููุงูุงุช ุงูุนููุงุก
โ   โ
โ   โโโ Application/                 # Application Layer
โ   โ   โโโ Merchants/               # Handlers ููุชุฌุงุฑ
โ   โ   โโโ Partners/                # Handlers ููุดุฑูุงุก
โ   โ   โโโ Links/                   # Handlers ููุฑูุงุจุท
โ   โ   โโโ Transactions/            # Handlers ูููุนุงููุงุช
โ   โ   โโโ Wallet/                  # Handlers ูููุญูุธุฉ
โ   โ   โโโ Services/                # Services (LifetimeRulesEngine, CommissionCalculator)
โ   โ
โ   โโโ Infrastructure/              # Infrastructure Layer
โ       โโโ Http/Controllers/        # API Controllers
โ       โโโ Persistence/Eloquent/    # Repositories
โ
โโโ mr20/                            # Legacy Module (ููุชูุงูู)
โ   โโโ app/
โ   โ   โโโ Models/                  # Eloquent Models
โ   โ   โโโ Services/                # Services
โ   โ   โโโ Listeners/               # Event Listeners
โ   โโโ database/migrations/         # Database Migrations
โ   โโโ routes/                      # API Routes
โ
โโโ docs/                             # ุงููุซุงุฆู
โ   โโโ MR20-SPEC.md                 # ููุงุตูุงุช ูุญุฑู MR 20%
โ   โโโ DASM-EVENTS-EXPLORATION.md   # ุงุณุชูุดุงู ุฃุญุฏุงุซ DASM
โ
โโโ Public/                           # ุงููุซุงุฆู ุงูุนุฑุจูุฉ ุงูุฃุตููุฉ
```

---

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **React 19** + **TypeScript**
- **Tailwind CSS 4** ููุชุตููู
- **Wouter** ููุชููู
- **Radix UI** ููููููุงุช
- **Google Maps API** ููุฎุฑุงุฆุท
- **Vite** ูุฃุฏุงุฉ ุจูุงุก
- **pnpm** ูุฅุฏุงุฑุฉ ุงูุญุฒู

### Backend
- **Laravel** (PHP)
- **Domain-Driven Design (DDD)**
- **Eloquent ORM**
- **RESTful API**
- **Event-Driven Architecture**

---

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- **Node.js 18+**
- **pnpm 10+**
- **PHP 8.1+** (ููุจุงููุฏ)
- **Composer** (ููุจุงููุฏ)
- **Laravel** (ููุจุงููุฏ)

### ุชุซุจูุช Frontend

```bash
# ุชุซุจูุช ุงููุชุทูุจุงุช
pnpm install

# ุชุดุบูู ุงููุดุฑูุน ูู ูุถุน ุงูุชุทููุฑ
pnpm dev

# ุจูุงุก ุงููุดุฑูุน ููุฅูุชุงุฌ
pnpm build

# ูุนุงููุฉ ุงูุจูุงุก
pnpm preview
```

### ุชุซุจูุช Backend (MR20 Module)

```bash
# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ Laravel project
cd /path/to/dasm-platform

# ุชุซุจูุช ุงููุชุทูุจุงุช
composer install

# ูุณุฎ ูููุงุช MR20 ุฅูู ุงููุดุฑูุน
# (ูุชู ุฏูุฌ app/Mr20/ ูุน app/ ูู Laravel)

# ุชุดุบูู Migrations
php artisan migrate

# ุชุณุฌูู Service Provider
# ูู config/app.php:
# App\Mr20\Providers\Mr20ServiceProvider::class
```

---

## ๐ง ูุญุฑู MR 20%

### ุงูุจููุฉ ุงููุนูุงุฑูุฉ (DDD)

ุงููุดุฑูุน ููุธู ููู **Domain-Driven Design**:

- **Domain Layer**: ุงูููุงูุงุช ุงูุฃุณุงุณูุฉ (Merchants, Partners, Products, etc.)
- **Application Layer**: Use Cases (Handlers) ู Services
- **Infrastructure Layer**: Controllers, Repositories, External Services

### ุงูููููุงุช ุงูุฑุฆูุณูุฉ

#### 1. Handlers (Application Layer)
- `CreateMerchantHandler` - ุฅูุดุงุก ุชุงุฌุฑ ุฌุฏูุฏ
- `CreateProgramHandler` - ุฅูุดุงุก ุจุฑูุงูุฌ ุนูููุงุช
- `RegisterPartnerHandler` - ุชุณุฌูู ุดุฑูู ุฌุฏูุฏ
- `CreateLinkHandler` - ุฑุจุท ุดุฑูู ุจุนููู ูููุชุฌ
- `ReportTransactionHandler` - ุชูุฑูุฑ ุนูููุฉ ุจูุน
- `GetWalletSummaryHandler` - ููุฎุต ุงููุญูุธุฉ
- `GetPartnerCommissionsHandler` - ูุงุฆูุฉ ุงูุนูููุงุช

#### 2. Services (Application Layer)
- `LifetimeRulesEngine` - ูุญุฑู ููุงุนุฏ Lifetime (lifetime/by_count/by_period)
- `CommissionCalculator` - ุญุณุงุจ ุงูุนูููุงุช (percentage/flat)
- `WalletService` - ุฅุฏุงุฑุฉ ุงููุญูุธุฉ

#### 3. Repositories (Infrastructure Layer)
- `MerchantEloquentRepository`
- `PartnerEloquentRepository`
- `ProgramEloquentRepository`
- `LinkEloquentRepository`
- `TransactionEloquentRepository`
- `CommissionEloquentRepository`
- ูุบูุฑูุง...

---

## ๐ก API Endpoints

### Admin APIs
- `POST /api/admin/merchants` - ุฅูุดุงุก ุชุงุฌุฑ ุฌุฏูุฏ

### Merchant APIs (ุชุชุทูุจ X-API-KEY)
- `POST /api/v1/products` - ุชุณุฌูู ููุชุฌ
- `POST /api/v1/programs` - ุฅูุดุงุก ุจุฑูุงูุฌ ุนูููุงุช
- `POST /api/v1/programs/{id}/tiers` - ุฅุถุงูุฉ ุดุฑุงุฆุญ ุนูููุงุช
- `POST /api/v1/links` - ุฑุจุท ุดุฑูู ุจุนููู ูููุชุฌ
- `POST /api/v1/transactions/report` - ุชูุฑูุฑ ุนูููุฉ ุจูุน

### Partner APIs (ุชุชุทูุจ Authorization Bearer Token)
- `GET /api/partner/programs/available` - ุงูุจุฑุงูุฌ ุงููุชุงุญุฉ
- `POST /api/partner/programs/enroll` - ุงูุชุณุฌูู ูู ุจุฑูุงูุฌ
- `GET /api/partner/wallet/summary` - ููุฎุต ุงููุญูุธุฉ
- `GET /api/partner/commissions` - ูุงุฆูุฉ ุงูุนูููุงุช

### Public APIs
- `POST /api/public/partners/register` - ุชุณุฌูู ุดุฑูู ุฌุฏูุฏ

### ุดูู ุงูุงุณุชุฌุงุจุฉ

ุฌููุน APIs ุชุฑุฌุน ููุณ ุงูุดูู:

```json
{
  "success": true,
  "data": { ... }
}
```

ุฃู ูู ุญุงูุฉ ุงูุฎุทุฃ:

```json
{
  "success": false,
  "error": {
    "message": "Error message"
  }
}
```

---

## ๐ ุงูุฑุจุท ูุน DASM-Platform

ุงููุดุฑูุน ูุญุชูู ุนูู **Listeners** ุฌุงูุฒุฉ ููุฑุจุท ูุน ุฃุญุฏุงุซ DASM-Platform:

### Listeners ุงููุชููุฑุฉ

1. **SyncProductWithMr20**
   - ูุณุชูุน ูุญุฏุซ: `CarCreated`
   - ูููุฐ: ุชุณุฌูู ุงูุณูุงุฑุฉ ูููุชุฌ ูู MR20

2. **SyncLinkWithMr20**
   - ูุณุชูุน ูุญุฏุซ: `CarPartnerAssigned`
   - ูููุฐ: ุฑุจุท ุงูุดุฑูู ุจุงูุณูุงุฑุฉ ูู MR20

3. **ReportTransactionToMr20**
   - ูุณุชูุน ูุญุฏุซ: `CarSold`
   - ูููุฐ: ุชูุฑูุฑ ุนูููุฉ ุงูุจูุน ูุญุณุงุจ ุงูุนูููุฉ

### ุงูุชุณุฌูู ูู EventServiceProvider

```php
// app/Providers/EventServiceProvider.php

protected $listen = [
    \App\Events\CarCreated::class => [
        \App\Listeners\Mr20\SyncProductWithMr20::class,
    ],
    \App\Events\CarPartnerAssigned::class => [
        \App\Listeners\Mr20\SyncLinkWithMr20::class,
    ],
    \App\Events\CarSold::class => [
        \App\Listeners\Mr20\ReportTransactionToMr20::class,
    ],
];
```

**ููุงุญุธุฉ**: ุฑุงุฌุน `docs/DASM-EVENTS-EXPLORATION.md` ููุชูุงุตูู ุงููุงููุฉ.

---

## ๐ฆ ุงููุดุฑ

### ุงููุดุฑ ุนูู Vercel (Frontend)

1. **ุฅุนุฏุงุฏ ุงููุดุฑูุน ุนูู GitHub**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/YOUR_USERNAME/marketers.git
   git push -u origin main
   ```

2. **ุงููุดุฑ ุนูู Vercel**
   - ุงุฐูุจ ุฅูู [Vercel](https://vercel.com)
   - ุงุถุบุท "Import Project"
   - ุงุฎุชุฑ ุงููุณุชูุฏุน ูู GitHub
   - Vercel ุณููุชุดู ุงูุฅุนุฏุงุฏุงุช ุชููุงุฆูุงู ูู `vercel.json`
   - ุงุถุบุท "Deploy"

3. **ุฅุนุฏุงุฏุงุช Vercel ุงููุทููุจุฉ**
   - Build Command: `pnpm build`
   - Output Directory: `dist/public`
   - Install Command: `pnpm install`

### ุงููุดุฑ ุนูู Server (Backend)

ุงูููุฏููู MR20 ูุชู ุฏูุฌู ูุน ูุดุฑูุน Laravel ุงูุฑุฆูุณู (DASM-Platform).

---

## ๐ ุงููุซุงุฆู

### ุงููุซุงุฆู ุงููุชููุฑุฉ

1. **docs/MR20-SPEC.md**
   - ุงูููุงุตูุงุช ุงููุงููุฉ ููุญุฑู MR 20%
   - ุชูุงุตูู ุงูููุงูุงุช ูุงูู APIs
   - ููุงุนุฏ Lifetime ู Tiers

2. **docs/DASM-EVENTS-EXPLORATION.md**
   - ุงุณุชูุดุงู ุฃุญุฏุงุซ DASM-Platform
   - ููููุฉ ุฑุจุท Listeners ูุน Events

3. **app/Mr20/MIGRATION_PLAN.md**
   - ุฎุทุฉ ุงูุชุญููู ูู Laravel ุชูููุฏู ุฅูู DDD
   - ุฎุทูุงุช ุงูุชูููุฐ

4. **Public/** (7 ูููุงุช)
   - ุงููุซุงุฆู ุงูุนุฑุจูุฉ ุงูุฃุตููุฉ ูููุดุฑูุน

---

## ๐ฏ ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ (Frontend)

- `/` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Dashboard)
- `/wallet` - ุงููุญูุธุฉ ุงูุฑูููุฉ
- `/add-client` - ุฃุฏุงุฉ ุงูููุต (ุฅุถุงูุฉ ุนููู/ูุฑูุจุฉ)
- `/quotes-archive` - ุฃุฑุดูู ุงูุนุฑูุถ
- `/referrals` - ุงูุฅุญุงูุงุช ูุงูุนููุงุก
- `/tasks` - ุงูููุงู ุงูููุฏุงููุฉ
- `/achievements` - ุงูุฅูุฌุงุฒุงุช ูุงูุฑุชุจ

---

## ๐ ุงูุฃูุงู

### API Authentication

- **Merchants**: ุงุณุชุฎุฏุงู `X-API-KEY` header
- **Partners**: ุงุณุชุฎุฏุงู `Authorization: Bearer <JWT_TOKEN>`

### ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

- ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู Hash
- API Keys ูุชู ุชูููุฏูุง ุชููุงุฆูุงู ุนูุฏ ุฅูุดุงุก ุงูุชุงุฌุฑ
- JWT Tokens ููุดุฑูุงุก (ูุชู ุฑุจุทู ุจูุธุงู Auth ุงูุฑุฆูุณู)

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

```bash
# Frontend Tests (ุฅู ูุฌุฏุช)
pnpm test

# Backend Tests
php artisan test
```

---

## ๐ ุงูุชุฑุฎูุต

MIT License

---

## ๐ค ุงููุณุงููุฉ

ูููุณุงููุฉ ูู ุงููุดุฑูุน:
1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ branch ุฌุฏูุฏ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู Branch (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ูุงูุฏุนูุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- [ ] ุชุญุณูู ูุธุงู ุงูุงุฎุชุจุงุฑุงุช
- [ ] ุฅุถุงูุฉ Real-time notifications
- [ ] ุชุญุณูู ุฃุฏุงุก API
- [ ] ุฅุถุงูุฉ Analytics dashboard
- [ ] ุฏุนู Multi-currency
- [ ] ุชุญุณูู ูุธุงู ุงููุญูุธุฉ

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ ูุฑูู DASMe** ๐
